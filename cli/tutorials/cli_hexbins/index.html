
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Free Open Source Mapping Platform">
      
      
        <meta name="author" content="XYZ Maps and contributors">
      
      
        <link rel="canonical" href="https://xyzmaps.github.io/xyz-documentation/cli/tutorials/cli_hexbins/">
      
      
        <link rel="prev" href="../shapefiles/">
      
      
        <link rel="next" href="../group_by/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.14">
    
    
      
        <title>Hexbins - XYZ Maps - Open Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hexbins" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="XYZ Maps - Open Documentation" class="md-header__button md-logo" aria-label="XYZ Maps - Open Documentation" data-md-component="logo">
      
  <img src="../../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            XYZ Maps - Open Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hexbins
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/xyzmaps/xyz-documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    xyzmaps/xyz-documentation
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="XYZ Maps - Open Documentation" class="md-nav__button md-logo" aria-label="XYZ Maps - Open Documentation" data-md-component="logo">
      
  <img src="../../../assets/images/logo.svg" alt="logo">

    </a>
    XYZ Maps - Open Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/xyzmaps/xyz-documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    xyzmaps/xyz-documentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    XYZ Maps API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            XYZ Maps API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Quick Start
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/quickstart/readspaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Read Spaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/quickstart/createspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a Space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/quickstart/writetospace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Write to a Space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/quickstart/activitylog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Activity Log
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/concepts/geojsonbasics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GeoJSON Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/concepts/namespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/concepts/tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags and Tagging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/concepts/tiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tiles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/concepts/jsonschema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON Schema
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Walkthrough
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Walkthrough
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/walkthrough/creatingaspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a Space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/walkthrough/addinganddeleting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add and Delete Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/walkthrough/searchbyboundingbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search by Bounding Box
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/walkthrough/searchbytags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search by Tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/walkthrough/iterateoverfeatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Iterate over Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/walkthrough/schemavalidation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Schema Validation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/workwithspaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work with Spaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/workwithfeatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work with Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/tagging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/accessingfeatures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Access Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/propertiessearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search for Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/spatialsearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spatial Search for Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/searchableproperties/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adjust searchable properties
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5_8" >
        
          
          <label class="md-nav__link" for="__nav_3_5_8" id="__nav_3_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Visualization and Clustering
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5_8">
            <span class="md-nav__icon md-icon"></span>
            Visualization and Clustering
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/visualization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    viz
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/hexbin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hexbin (H3)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/quadbin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    quadbin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/activitylogguide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work with Activity Log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../topics/microsoft-buildings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microsoft buildings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/devguide/commonerrors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Errors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datahub_add-on/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/apireference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    XYZ Maps UI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            XYZ Maps UI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui/gettingstarted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui/yourxyzspace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Display your space
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui/styleyourdata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Style your data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ui/tapfeature/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add interactivity
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    XYZ Maps Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            XYZ Maps Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    XYZ Maps CLI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            XYZ Maps CLI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../add-on/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add-on features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1_4" checked>
        
          
          <label class="md-nav__link" for="__nav_5_1_4" id="__nav_5_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_1_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shapefiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shapefiles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Hexbins
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Hexbins
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-hexbins-with-the-xyz-maps-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Creating hexbins with the XYZ Maps CLI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    <span class="md-ellipsis">
      Note
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-hexbins" class="md-nav__link">
    <span class="md-ellipsis">
      Creating hexbins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-tags-with-hexbin-data" class="md-nav__link">
    <span class="md-ellipsis">
      Using tags with hexbin data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-contained-in-hexbins" class="md-nav__link">
    <span class="md-ellipsis">
      Data contained in Hexbins
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-options" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subgroups" class="md-nav__link">
    <span class="md-ellipsis">
      Subgroups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-and-average" class="md-nav__link">
    <span class="md-ellipsis">
      Sum and average
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updates" class="md-nav__link">
    <span class="md-ellipsis">
      Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-zoom" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic zoom
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../group_by/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Group by in CSV
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../command-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../space-invader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XYZ Space Invader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools#xyz-spaces-for-python" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XYZ Spaces for Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GeoJSON Viewer
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            GeoJSON Viewer
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../viewer-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/concepts/geojsonbasics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GeoJSON Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../viewer-tool/advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Features
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/links/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Useful Links
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-hexbins-with-the-xyz-maps-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Creating hexbins with the XYZ Maps CLI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    <span class="md-ellipsis">
      Note
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-hexbins" class="md-nav__link">
    <span class="md-ellipsis">
      Creating hexbins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-tags-with-hexbin-data" class="md-nav__link">
    <span class="md-ellipsis">
      Using tags with hexbin data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-contained-in-hexbins" class="md-nav__link">
    <span class="md-ellipsis">
      Data contained in Hexbins
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-options" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subgroups" class="md-nav__link">
    <span class="md-ellipsis">
      Subgroups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum-and-average" class="md-nav__link">
    <span class="md-ellipsis">
      Sum and average
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updates" class="md-nav__link">
    <span class="md-ellipsis">
      Updates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-zoom" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic zoom
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="hexbins">Hexbins<a class="headerlink" href="#hexbins" title="Permanent link">&para;</a></h1>
<h2 id="creating-hexbins-with-the-xyz-maps-cli">Creating hexbins with the XYZ Maps CLI<a class="headerlink" href="#creating-hexbins-with-the-xyz-maps-cli" title="Permanent link">&para;</a></h2>
<p>The <code>hexbin</code> command in the XYZ Maps CLI lets you easily create hexbins and their centroids from large, dense point datasets in your Spaces. Hexbins can be useful for data analysis, and can also allow you to visualize datasets that are too large to effectively view at low (regional or national) map zoom levels.</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>If you don't already have a set of points in a Space, you can upload them using the CLI.</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>upload<span class="w"> </span>-f<span class="w"> </span>your.geojson
smap
</code></pre></div>
<p>(You can also use a CSV with point coordinates or shapefiles.)</p>
<p>If you do not have data handy, you can use this CSV of <a href="https://data.sfgov.org/Transportation/Bicycle-Parking/hn4j-6fx5">bicycle parking in San Francisco</a>.</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>upload<span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;https://data.sfgov.org/api/views/hn4j-6fx5/rows.csv&quot;</span>
</code></pre></div>
<p>You'll be prompted to enter a title and description, and XYZ Maps will generate a unique ID for your dataset. Copy this as you will need it to access the data and generated hexbins.</p>
<blockquote>
<h4 id="note">Note<a class="headerlink" href="#note" title="Permanent link">&para;</a></h4>
<p>Some of the features in this file do not have any coordinates -- the XYZ Maps CLI will 
report these as errors.</p>
</blockquote>
<p>After the upload finishes, you can preview the map using geojson.tools</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>show<span class="w"> </span>spaceID<span class="w"> </span>-w
</code></pre></div>
<p>or <a href="../../space-invader/">Space Invader</a>. (Note it will be easier to view data sets larger than a few hundred points using XYZ Maps Space Invader.)</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>show<span class="w"> </span>spaceID<span class="w"> </span>-v
</code></pre></div>
<h3 id="creating-hexbins">Creating hexbins<a class="headerlink" href="#creating-hexbins" title="Permanent link">&para;</a></h3>
<p>Hexbins have a width in meters. You can set this manually using <code>-c</code>, but you also can use <code>-z</code> to generate a hexbin grid that fits well with a particular slippy map zoom level.</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-c<span class="w"> </span><span class="m">100</span>

xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-z<span class="w"> </span><span class="m">10</span>
</code></pre></div>
<p>You can also define multiple zoom levels, or a range:</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-z<span class="w"> </span><span class="m">10</span>-13
xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-z<span class="w"> </span><span class="m">8</span>,10,12
xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-c<span class="w"> </span><span class="m">100</span>,200,400,800
</code></pre></div>
<p>For reference, here's a rough guide of zoom levels and admin hierarchies:</p>
<div class="highlight"><pre><span></span><code><span class="go">city: zoom 10-13</span>
<span class="go">region: zoom 7-10</span>
<span class="go">country: zoom 4-7</span>
<span class="go">world: zoom 1-4</span>
</code></pre></div>
<p>Hexbins will generate a hexagonal grid for each zoom level (or width) that you selected. It will then count the points that fall within each hexagon, and save that to the properties of each hexbin.</p>
<p>It also tracks the maximum count seen in that grid, and after the pass is completed, it writes that <code>maxCount</code> value to each hexbin. An <code>occupancy</code> rate is then calculated for each hexbin relative to the rest of that grid, and a scaled <code>hsla</code> color value is written to the feature for display convenience (blue is low, red is high).</p>
<h3 id="using-tags-with-hexbin-data">Using tags with hexbin data<a class="headerlink" href="#using-tags-with-hexbin-data" title="Permanent link">&para;</a></h3>
<p>If we generate hexbins for XYZ Maps Space containing the bike parking locations...</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-z<span class="w"> </span><span class="m">9</span>-13
</code></pre></div>
<p>the CLI will generate tags so you can pull out the hexbins and centroids for each zoom level:</p>
<div class="highlight"><pre><span></span><code><span class="go">zoom9</span>
<span class="go">zoom9_hexbin</span>
<span class="go">zoom9_centroid</span>
<span class="go">zoom10</span>
<span class="go">zoom10_hexbin</span>
<span class="go">zoom10_centroid</span>
<span class="go">...</span>
</code></pre></div>
<p>The CLI also creates centroids for each hexbin. This is useful for an alternate display method as well as for labels. You can use tags to pull these out separately from the hexbins.</p>
<p>After you generate the hexbins from a XYZ Maps space, you can view them with any GeoJSON viewer. If you want to view just the zoom 11 hexbins, you can use the <code>-t</code> option with view:</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>show<span class="w"> </span>spaceID<span class="w"> </span>-w<span class="w"> </span>-t<span class="w"> </span>zoom11_hexbin
</code></pre></div>
<p>For convenience, here is a link to that data. Note the <code>&amp;tags=zoom11_hexbin</code> -- that tells the XYZ Maps API to only return features with that tag, and thus that zoom level.</p>
<p><a href="https://xyzmaps.github.io/geojson-tool/index.html?url=https://localhost:8080/hub/spaces/ZGAzaLaA/search?limit=5000&amp;clientId=cli&amp;tags=zoom11_hexbin&amp;access_token=APwC9OKv8ww_zMGWqPTSQdg">https://xyzmaps.github.io/geojson-tool/index.html?url=https://localhost:8080/hub/spaces/ZGAzaLaA/search?limit=5000&amp;clientId=cli&amp;tags=zoom11_hexbin&amp;access_token=APwC9OKv8ww_zMGWqPTSQdg</a></p>
<p><img alt="xyz-hexbin-geojson-tools" src="../../images/xyz-hexbin-geojson-tools.png" /></p>
<h3 id="data-contained-in-hexbins">Data contained in Hexbins<a class="headerlink" href="#data-contained-in-hexbins" title="Permanent link">&para;</a></h3>
<p>Hexbin features contain various values that can help with analysis and visualization:</p>
<ul>
<li><code>count</code>: the number of points in a hexbin</li>
<li><code>maxCount</code>: the largest number of points in any hexbin across that particular zoom level or cell width</li>
<li><code>occupancy</code>: how "full" that hexbin is compared to other hexbins across that particular zoom level or cell width (<code>count</code> divided by <code>maxCount</code>)</li>
<li><code>color</code>: an <code>hsla</code> color value that correlates to that hexbin's relative occupancy (red = "high", green = "average", blue = "low", provided for display convience</li>
<li><code>centroid</code>: the centroid of the hexbin (useful for label placement -- the centroid is also written as a separate feature)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hsla(0, 100%, 50%,0.51)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">468</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">468</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;occupancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="p">},</span>
<span class="err">...</span>
<span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hsla(81, 100%, 50%,0.51)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">279</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">468</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;occupancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5961538461538461</span>
<span class="p">},</span>
<span class="err">...</span>
<span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hsla(197, 100%, 50%,0.51)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">468</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;occupancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01282051282051282...</span>
<span class="p">}</span>
</code></pre></div>
<p>You can also open the hexbin space in XYZ Maps Space Invader and select zoom levels from the tag list.</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>show<span class="w"> </span>spaceID<span class="w"> </span>-v
</code></pre></div>
<p>In Space Invader, you can select properties and choose data-driven color palettes, and change the basemaps to suit the data.</p>
<p>If you do not choose a tag with <code>-t</code> in the CLI, you can select a zoom level using the tags in the right pane.</p>
<p><img alt="xyz-hexbin-space-invader" src="../../images/xyz-hexbin-space-invader.png" /></p>
<!-- markdown-link-check-disable-line -->
<p><a href="https://s3.amazonaws.com/xyz-demo/scenes/xyz_tangram/index.html?space=ZGAzaLaA&amp;token=APwC9OKv8ww_zMGWqPTSQdg&amp;basemap=xyz-pixel-dark&amp;buildings=1&amp;label=undefined&amp;colors=range&amp;points=2&amp;lines=0&amp;outlines=0&amp;highlight=0&amp;places=1&amp;roads=1&amp;water=0&amp;tags=zoom12_centroid&amp;property=count&amp;palette=colorBrewerYlOrRd&amp;paletteFlip=true&amp;sort=values&amp;hideOutliers=false#12.858333333333318/37.7474/-122.4452">https://s3.amazonaws.com/xyz-demo/scenes/xyz_tangram/index.html?space=ZGAzaLaA&amp;token=APwC9OKv8ww_zMGWqPTSQdg&amp;basemap=xyz-pixel-dark&amp;buildings=1&amp;label=undefined&amp;colors=range&amp;points=2&amp;lines=0&amp;outlines=0&amp;highlight=0&amp;places=1&amp;roads=1&amp;water=0&amp;tags=zoom12_centroid&amp;property=count&amp;palette=colorBrewerYlOrRd&amp;paletteFlip=true&amp;sort=values&amp;hideOutliers=false#12.858333333333318/37.7474/-122.4452</a></p>
<p>Click for more examples on how to use <a href="../../space-invader/">Space Invader</a>.</p>
<h2 id="advanced-options">Advanced options<a class="headerlink" href="#advanced-options" title="Permanent link">&para;</a></h2>
<h3 id="subgroups">Subgroups<a class="headerlink" href="#subgroups" title="Permanent link">&para;</a></h3>
<p>Values of properties of a feature can also be counted with <code>xyzmaps space hexbin -p propertyname</code>.</p>
<div class="highlight"><pre><span></span><code>xyzmaps<span class="w"> </span>space<span class="w"> </span>hexbin<span class="w"> </span>spaceID<span class="w"> </span>-p<span class="w"> </span>street_type
</code></pre></div>
<p>This would count the unique values of the <code>street_type</code> property in each feature, track the maximum, and generate an occupancy value to be used in data visualization. Space Invader can use that value to dynamically generate a color based on that hexbin's subgroup value compared to other hexbin's subgroup values.</p>
<!-- markdown-link-check-disable-line -->
<p>Here's an example <a href="https://s3.amazonaws.com/xyz-demo/scenes/xyz_tangram/index.html?space=qAtS3e8G&amp;token=AFbjoHrBlTB2K5_gqvcP_S8&amp;basemap=xyz-pixel-dark&amp;buildings=1&amp;label=undefined&amp;colors=range&amp;points=2&amp;lines=0&amp;outlines=1&amp;highlight=0&amp;places=1&amp;roads=1&amp;water=0&amp;tags=zoom12_hexbin&amp;property=subcount.AVE.count&amp;palette=colorBrewerYlGnBu&amp;paletteFlip=true&amp;rangeFilter=0&amp;sort=values&amp;hideOutliers=true#13.166666666666664/37.7568/-122.4384">showing street types in San Francisco</a>, where street type was chosen as a subgroup. <code>subcount.AVE</code> can be used to see where Avenue is the most common street type. You can click on <code>subcount.ST.count</code> to see the streets of San Francisco.</p>
<p><img alt="xyz-hexbin-space-invader" src="../../images/hexbin_subgroup.png" /></p>
<p>For reference, <a href="https://xyzmaps.github.io/geojson-tool/index.html?url=https://localhost:8080/hub/spaces/qAtS3e8G/search?limit=5000&amp;clientId=cli&amp;tags=zoom10_centroid&amp;access_token=AFbjoHrBlTB2K5_gqvcP_S8">here is a sample of a subcount object</a>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">468</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">468</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;subcount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ST&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hsla(0, 100%, 50%,0.51)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">324</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">324</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;occupancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;ALY&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hsla(0, 100%, 50%,0.51)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;occupancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;AVE&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hsla(107, 100%, 50%,0.51)&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;maxCount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">122</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;occupancy&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4672131147540984</span>
<span class="w">    </span><span class="p">},</span>
</code></pre></div>
<h3 id="sum-and-average">Sum and average<a class="headerlink" href="#sum-and-average" title="Permanent link">&para;</a></h3>
<p>If a point feature has a quantitative property, you can use <code>-a</code> to add it up within each hexbin, as well as calculate an average. These values, along with <code>maxSum</code>, is recorded in a <code>sum</code> object within each hexbin.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;sum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;sum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4071</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;maxSum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5117</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;average&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">8.698717948717949</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;property_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;incidents&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>Space Invader can compare and color these values across the hexbin grid. Here we see the aggregate values of Minneapolis property values summed within hexbin centroids.</p>
<p><img alt="minneapolis" src="../../images/hexbin_sum.png" /></p>
<h3 id="updates">Updates<a class="headerlink" href="#updates" title="Permanent link">&para;</a></h3>
<p>XYZ Maps tracks the source space of a hexbin space, and vice versa. If you add zoom levels or update hexbins, XYZ Maps will add to or edit any existing hexbin spaces for a source space.</p>
<p>You can see in the description of the space, using <code>xyzmaps space config spaceID -r</code>. Hexbin zoom levels are also tracked.</p>
<h3 id="dynamic-zoom">Dynamic zoom<a class="headerlink" href="#dynamic-zoom" title="Permanent link">&para;</a></h3>
<p>Since each zoom level can have its own hexbins and centroids, you can dynamically select data appropriate for the zoom level of a map using tags. Here's an example of centroids and hexbins for tornados in the United States from 1950 to 2017.</p>
<p><a href="https://burritojustice.github.io/noaa_historic_tornadoes/">https://burritojustice.github.io/noaa_historic_tornadoes/</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022-2023 XYZ Maps and contributors
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.cd18aaf1.min.js"></script>
      
    
  </body>
</html>